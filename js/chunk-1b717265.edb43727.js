(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b717265"],{"0525":function(t,e,n){},"059f":function(t,e,n){"use strict";n("bdb2")},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var r=n("6b75");function a(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},"18f7":function(t,e,n){},"1b06":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container-line-text"}},[n("input",{staticClass:"line-text",attrs:{type:"text",maxlength:t.maxLength,id:t.inputID,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),n("label",{staticClass:"line-text-label",attrs:{for:t.inputID}},[t._v(t._s(t.label))])])},a=[],o={name:"AppLinetext",props:{inputID:String,placeholder:String,maxLength:String,label:String,value:String}},i=o,c=(n("059f"),n("2877")),s=Object(c["a"])(i,r,a,!1,null,"6bb380f1",null);e["a"]=s.exports},2262:function(t,e,n){},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("6b75");function a(t){if(Array.isArray(t))return Object(r["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var i=n("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return a(t)||o(t)||Object(i["a"])(t)||c()}},3254:function(t,e,n){},3368:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AppPopupWrapper",{attrs:{hidden:t.hidePopupStatus}},[n("AppTopPanel",{attrs:{header:t.header},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"delete",size:"1.8rem",title:"Удалить"},on:{"button-click":function(e){return t.$emit("delete-element")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(e){return t.$emit("close-popup")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-delete-wrapper"},[n("p",[t._t("popup-delete-content")],2)])],1)},a=[],o=n("a26a"),i=n("34b0"),c=n("373c"),s={name:"PopupDeleteWrapper",components:{AppPopupWrapper:o["a"],AppTopPanel:i["a"],AppButtonIcon:c["a"]},props:{hidePopupStatus:Boolean,header:String}},u=s,d=(n("93f4"),n("2877")),l=Object(d["a"])(u,r,a,!1,null,"18d3d347",null);e["a"]=l.exports},"34b0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app-top-panel"}},[n("h3",{staticClass:"top-panel-header"},[t._v(t._s(t.header))]),n("div",{staticClass:"top-panel-nav-buttons"},[t._t("nav-buttons")],2)])},a=[],o={name:"AppTopPanel",props:{header:String}},i=o,c=(n("bdaf"),n("2877")),s=Object(c["a"])(i,r,a,!1,null,"11bb2a0a",null);e["a"]=s.exports},"3a7b":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AppPopupWrapper",{attrs:{hidden:t.hidden}},[n("AppTopPanel",{attrs:{header:t.header},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить"},on:{"button-click":function(e){return t.$emit("popup-add")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(e){return t.$emit("popup-close")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-add-wrapper"},[t._t("popup-add-content")],2)],1)},a=[],o=n("a26a"),i=n("34b0"),c=n("373c"),s={name:"PopupAddWrapper",components:{AppPopupWrapper:o["a"],AppTopPanel:i["a"],AppButtonIcon:c["a"]},props:{hidden:Boolean,header:String,objectAdded:Object},data:function(){return{addedCity:{},firstNote:"Город был создан"}},created:function(){this.renewAddedData()},methods:{renewAddedData:function(){this.addedCity={id:Date.now(),name:"",notes:["Город был создан"],notesCount:"5"},this.firstNote="Город был создан"},addCity:function(t){this.$emit("add-city",t),this.renewAddedData()}}},u=s,d=n("2877"),l=Object(d["a"])(u,r,a,!1,null,null,null);e["a"]=l.exports},"4b15":function(t,e,n){"use strict";n("4ce5")},"4ce5":function(t,e,n){},"4df4":function(t,e,n){"use strict";var r=n("0366"),a=n("7b0b"),o=n("9bdd"),i=n("e95a"),c=n("50c4"),s=n("8418"),u=n("35a1");t.exports=function(t){var e,n,d,l,p,f,v=a(t),h="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,S=void 0!==m,_=u(v),E=0;if(S&&(m=r(m,b>2?arguments[2]:void 0,2)),void 0==_||h==Array&&i(_))for(e=c(v.length),n=new h(e);e>E;E++)f=S?m(v[E],E):v[E],s(n,E,f);else for(l=_.call(v),p=l.next,n=new h;!(d=p.call(l)).done;E++)f=S?o(l,m,[d.value,E],!0):d.value,s(n,E,f);return n.length=E,n}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),o="["+a+"]",i=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},6062:function(t,e,n){"use strict";var r=n("6d61"),a=n("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},"633e":function(t,e,n){},6566:function(t,e,n){"use strict";var r=n("9bf2").f,a=n("7c73"),o=n("e2cc"),i=n("0366"),c=n("19aa"),s=n("2266"),u=n("7dd0"),d=n("2626"),l=n("83ab"),p=n("f183").fastKey,f=n("69f3"),v=f.set,h=f.getterFor;t.exports={getConstructor:function(t,e,n,u){var d=t((function(t,r){c(t,d,e),v(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=r&&s(r,t[u],t,n)})),f=h(e),b=function(t,e,n){var r,a,o=f(t),i=m(t,e);return i?i.value=n:(o.last=i={index:a=p(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=i),r&&(r.next=i),l?o.size++:t.size++,"F"!==a&&(o.index[a]=i)),t},m=function(t,e){var n,r=f(t),a=p(e);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(d.prototype,{clear:function(){var t=this,e=f(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,n=f(e),r=m(e,t);if(r){var a=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=a),a&&(a.previous=o),n.first==r&&(n.first=a),n.last==r&&(n.last=o),l?n.size--:e.size--}return!!r},forEach:function(t){var e,n=f(this),r=i(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),o(d.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),l&&r(d.prototype,"size",{get:function(){return f(this).size}}),d},setStrong:function(t,e,n){var r=e+" Iterator",a=h(e),o=h(r);u(t,e,(function(t,e){v(this,{type:r,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),d(e)}}},"66da":function(t,e,n){"use strict";n("9dfd")},"6b75":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},"6d61":function(t,e,n){"use strict";var r=n("23e7"),a=n("da84"),o=n("94ca"),i=n("6eeb"),c=n("f183"),s=n("2266"),u=n("19aa"),d=n("861d"),l=n("d039"),p=n("1c7e"),f=n("d44e"),v=n("7156");t.exports=function(t,e,n){var h=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=h?"set":"add",S=a[t],_=S&&S.prototype,E=S,A={},y=function(t){var e=_[t];i(_,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!d(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!d(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof S||!(b||_.forEach&&!l((function(){(new S).entries().next()})))))E=n.getConstructor(e,t,h,m),c.REQUIRED=!0;else if(o(t,!0)){var g=new E,O=g[m](b?{}:-0,1)!=g,D=l((function(){g.has(1)})),k=p((function(t){new S(t)})),R=!b&&l((function(){var t=new S,e=5;while(e--)t[m](e,e);return!t.has(-0)}));k||(E=e((function(e,n){u(e,E,t);var r=v(new S,e,E);return void 0!=n&&s(n,r[m],r,h),r})),E.prototype=_,_.constructor=E),(D||R)&&(y("delete"),y("has"),h&&y("get")),(R||O)&&y(m),b&&_.clear&&delete _.clear}return A[t]=E,r({global:!0,forced:E!=S},A),f(E,t),b||n.setStrong(E,t,h),E}},"6e81":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"app-table-row",on:{dblclick:function(e){return t.$emit("db-click")},click:function(e){return t.$emit("on-click")}}},[t._t("row-content")],2)},a=[],o={name:"AppTableWrapperRow"},i=o,c=(n("aecd"),n("2877")),s=Object(c["a"])(i,r,a,!1,null,"267b6e8d",null);e["a"]=s.exports},7156:function(t,e,n){var r=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var o,i;return a&&"function"==typeof(o=e.constructor)&&o!==n&&r(i=o.prototype)&&i!==n.prototype&&a(t,i),t}},"787e":function(t,e,n){"use strict";n("0525")},"7c82":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container-line-date"}},[n("input",{staticClass:"line-date",attrs:{type:"datetime-local",id:t.dateID,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),n("label",{staticClass:"line-date-label",attrs:{for:t.dateID}},[t._v(t._s(t.label))])])},a=[],o={name:"AppLineDate",props:{dateID:String,placeholder:String,label:String,value:String}},i=o,c=(n("ef11"),n("2877")),s=Object(c["a"])(i,r,a,!1,null,"32745002",null);e["a"]=s.exports},"8c56":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app-deal"}},[n("DealPopupAdd",{attrs:{popupHidden:t.popupAddDeal},on:{"popup-toggle":t.popupAddToggle,"add-deal":t.addDeal}}),n("AppTopPanel",{attrs:{header:"Список заявок"},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить"},on:{"button-click":function(e){return t.popupAddToggle()}}})]},proxy:!0}])}),n("div",{staticClass:"app-deal-content"},[n("DealsTable",{attrs:{deals:t.deals},on:{"remove-deal":t.removeDeal,"set-current-deal":t.setCurrentDeal}})],1)],1)},a=[],o=n("b85c"),i=n("5530"),c=(n("b0c0"),n("260b")),s=n("2f62"),u=n("34b0"),d=n("373c"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PopupAddWrapper",{attrs:{hidden:t.popupHidden,header:"Добавление заявки"},on:{"popup-add":function(e){return t.addDeal(t.addedDeal)},"popup-close":function(e){return t.$emit("popup-toggle")}},scopedSlots:t._u([{key:"popup-add-content",fn:function(){return[n("AppLineText",{attrs:{inputID:"input-deal-name",label:"Название: ",maxLength:"20"},model:{value:t.addedDeal.name,callback:function(e){t.$set(t.addedDeal,"name",e)},expression:"addedDeal.name"}}),n("AppLineDate",{attrs:{dateID:"input-deal-date-start",label:"Начало: "},model:{value:t.dateStart,callback:function(e){t.dateStart=e},expression:"dateStart"}}),n("AppLineDate",{attrs:{dateID:"input-deal-date-end",label:"Конец: "},model:{value:t.dateEnd,callback:function(e){t.dateEnd=e},expression:"dateEnd"}}),n("AppSelect",{attrs:{selectID:"select",label:"Заказчик: "},model:{value:t.addedDeal.customer,callback:function(e){t.$set(t.addedDeal,"customer",e)},expression:"addedDeal.customer"}},t._l(t.customers,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0),t._l(t.workersCount,(function(e){return n("div",{key:e},[n("AppSelect",{attrs:{selectID:"select",label:"Рабочий "+e+": ",value:t.elementCountNumber(e)},on:{"select-change":t.pushMoreWorkers}},[n("option",{attrs:{value:""}},[t._v("Никого")]),t._l(t.localWorkers,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.surname)+" "+t._s(e.name))])}))],2)],1)})),n("p",{staticClass:"button-add",on:{click:function(e){return t.addMoreWorkers()}}},[t._v("Добавить ещё одного рабочего")])]},proxy:!0}])})},p=[],f=n("2909"),v=(n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("99af"),n("3a7b")),h=n("1b06"),b=n("7c82"),m=n("fac1"),S={name:"DealPopupAdd",data:function(){return{addedDeal:{},localWorkers:"",workersCount:1,addedWorkers:new Set,dateStart:"",dateEnd:""}},computed:Object(i["a"])({},Object(s["c"])(["workers","customers"])),components:{PopupAddWrapper:v["a"],AppLineText:h["a"],AppLineDate:b["a"],AppSelect:m["a"]},props:{popupHidden:Boolean},watch:{dateStart:function(){this.addedDeal.dateStart=this.dateStart},dateEnd:function(){this.addedDeal.dateEnd=this.dateEnd}},created:function(){this.renewAddedData(),this.SET_WORKERS_FROM_LOCAL_STORAGE(),this.SET_CUSTOMERS_FROM_LOCAL_STORAGE(),this.checkWorkers()},methods:Object(i["a"])(Object(i["a"])({},Object(s["d"])(["SET_WORKERS_FROM_LOCAL_STORAGE","SET_CUSTOMERS_FROM_LOCAL_STORAGE"])),{},{elementCountNumber:function(t){var e,n=0,r=Object(o["a"])(this.addedWorkers);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(n++,n===t)return a}}catch(i){r.e(i)}finally{r.f()}},addMoreWorkers:function(){console.log("dddddddddddddddddddd"),this.workersCount++,this.checkWorkers()},pushMoreWorkers:function(t){this.addedWorkers.add(t)},checkWorkers:function(){for(var t in this.localWorkers=Object(i["a"])({},this.workers),this.localWorkers)"Да"===this.localWorkers[t].fired&&delete this.localWorkers[t];if(""!==this.dateStart)try{for(var e in this.localWorkers){var n,r=Object(o["a"])(this.localWorkers[e].events);try{for(r.s();!(n=r.n()).done;){var a=n.value;void 0!==this.localWorkers[e]&&a.start<this.dateStart&&delete this.localWorkers[e]}}catch(l){r.e(l)}finally{r.f()}}}catch(p){}if(""!==this.dateEnd)try{for(var c in this.localWorkers){var s,u=Object(o["a"])(this.localWorkers[c].events);try{for(u.s();!(s=u.n()).done;){var d=s.value;void 0!==this.localWorkers[c]&&d.end<this.dateEnd&&delete this.localWorkers[c]}}catch(l){u.e(l)}finally{u.f()}}}catch(p){}},renewAddedData:function(){this.addedDeal={id:Date.now(),name:"Новая заявка",customer:"",workers:"",dateStart:"",dateEnd:"",notes:["".concat((new Date).toLocaleDateString()," Заявка была создана")],notesCount:"5",history:[{date:"[Дата: ".concat((new Date).toLocaleDateString()," Время: ").concat((new Date).toLocaleTimeString(),"]"),info:"Заявка создана",employee:{name:"",id:""}}]}},addDeal:function(t){t.workers=Object(f["a"])(this.addedWorkers),this.$emit("add-deal",t),this.renewAddedData()}})},_=S,E=(n("66da"),n("2877")),A=Object(E["a"])(_,l,p,!1,null,null,null),y=A.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AppTableWrapper",{scopedSlots:t._u([{key:"table-content",fn:function(){return[n("PopupDeleteWrapper",{attrs:{hidePopupStatus:t.popupRemoveHidden,header:"Удаление заявки "+t.currentDeal.name},on:{"close-popup":function(e){return t.popupRemoveToggle({})},"delete-element":function(e){t.$emit("remove-deal",t.currentDeal.id),t.popupRemoveToggle({})}},scopedSlots:t._u([{key:"popup-delete-content",fn:function(){return[t._v(" После нажатия на иконку корзины будет удалёна заявка "),n("b",[t._v(t._s(t.currentDeal.name))])]},proxy:!0}])}),n("AppTableWrapperRow",{scopedSlots:t._u([{key:"row-content",fn:function(){return[n("th",[t._v("Название")]),n("th",[t._v("Клиент")]),n("th",[t._v("Начало")]),n("th",[t._v("Конец")]),n("th",[t._v("Заметка")]),n("th")]},proxy:!0}])}),t._l(t.deals,(function(e){return[n("AppTableWrapperRow",{key:e.id,on:{"db-click":function(n){return t.$router.push({name:"dealEdit",params:{id:e.id}})},"on-click":function(n){return t.$emit("set-current-deal",e)}},scopedSlots:t._u([{key:"row-content",fn:function(){return[n("td",{attrs:{title:e.name}},[t._v(t._s(e.name))]),n("td",[n("router-link",{attrs:{title:"Перейти к клиенту",to:{name:"customerAbout",params:{id:e.customer.id}}}},[t._v(" "+t._s(e.customer.name)+" ")])],1),n("td",{attrs:{title:e.dateStart}},[t._v(t._s(e.dateStart.slice(0,10)+", "+e.dateStart.slice(11)))]),n("td",{attrs:{title:e.dateEnd}},[t._v(t._s(e.dateEnd.slice(0,10)+", "+e.dateEnd.slice(11)))]),e.notes?n("td",{attrs:{title:e.notes[e.notes.length-1]}},[t._v(" "+t._s(e.notes[e.notes.length-1])+" ")]):n("td",[t._v("Заметок нет")]),n("td",{staticClass:"row-action"},[n("AppButtonIcon",{attrs:{icon:"create",title:"Редактировать",size:"1.2rem"},on:{"button-click":function(n){return t.$router.push({name:"dealEdit",params:{id:e.id}})}}}),n("AppButtonIcon",{attrs:{icon:"delete",title:"Удалить",size:"1.2rem"},on:{"button-click":function(n){return t.popupRemoveToggle(e)}}})],1)]},proxy:!0}],null,!0)})]}))]},proxy:!0}])})},O=[],D=n("3368"),k=n("eda4"),R=n("6e81"),w={name:"DealsTable",components:{PopupDeleteWrapper:D["a"],AppButtonIcon:d["a"],AppTableWrapper:k["a"],AppTableWrapperRow:R["a"]},data:function(){return{popupRemoveHidden:!0,currentDeal:{}}},props:{deals:Object},methods:{popupRemoveToggle:function(t){this.popupRemoveHidden=!this.popupRemoveHidden,this.currentDeal=t}}},x=w,T=Object(E["a"])(x,g,O,!1,null,null,null),I=T.exports,C={name:"TheDeals",components:{AppTopPanel:u["a"],AppButtonIcon:d["a"],DealPopupAdd:y,DealsTable:I},data:function(){return{popupAddDeal:!0,currentDeal:null}},computed:Object(i["a"])({},Object(s["c"])(["deals","workers","customers"])),created:function(){this.SET_DEALS_FROM_LOCAL_STORAGE(),this.SET_WORKERS_FROM_LOCAL_STORAGE(),this.SET_CUSTOMERS_FROM_LOCAL_STORAGE()},methods:Object(i["a"])(Object(i["a"])({},Object(s["d"])(["SET_DEALS_FROM_LOCAL_STORAGE","SET_DEALS_FROM_SERVER","SET_WORKERS_FROM_SERVER","SET_WORKERS_FROM_LOCAL_STORAGE","SET_CUSTOMERS_FROM_SERVER","SET_CUSTOMERS_FROM_LOCAL_STORAGE"])),{},{popupAddToggle:function(){this.popupAddDeal=!this.popupAddDeal},setCurrentDeal:function(t){this.currentDeal=t},removeDeal:function(t){var e=this;c["a"].database().ref("/deals/"+t).remove().then((function(){console.log("Заявка удалёна 🗑️"),e.SET_DEALS_FROM_SERVER()}))},addDeal:function(t){var e,n=this;this.popupAddToggle(),t.name=t.name[0].toUpperCase()+t.name.substring(1);var r,a=t.workers,i=t.customer=null!==(e=this.customers[t.customer])&&void 0!==e?e:null,s=Object(o["a"])(a);try{for(s.s();!(r=s.n()).done;){var u,d=r.value,l=null!==(u=this.workers[d])&&void 0!==u?u:null;if(void 0!==l&&null!==l){l.events.push({id:Date.now(),title:t.name,start:t.dateStart,end:t.dateEnd,dealID:t.id});try{l.dealStatistics.push({name:t.name,customer:t.customer,dateStart:t.dateStart,dateEnd:t.dateEnd,dealID:t.id})}catch(p){l.dealStatistics=[{name:t.name,customer:t.customer,dateStart:t.dateStart,dateEnd:t.dateEnd,dealID:t.id}]}c["a"].database().ref("/workers/"+l.id).set(l).then((function(){n.SET_WORKERS_FROM_SERVER()}))}}}catch(f){s.e(f)}finally{s.f()}if(void 0!==i&&null!==i){try{i.dealStatistics.push({name:t.name,dateStart:t.dateStart,dateEnd:t.dateEnd,dealID:t.id})}catch(p){i.dealStatistics=[{name:t.name,dateStart:t.dateStart,dateEnd:t.dateEnd,dealID:t.id}]}if(c["a"].database().ref("/customers/"+i.id).set(i).then((function(){n.SET_CUSTOMERS_FROM_SERVER()})),""===t.dateStart)throw M.toast({html:"Начало заявки не задано!"}),"Начало заявки не задано";if(""===t.dateEnd)throw M.toast({html:"Конец заявки не задан!"}),"Конец заявки не задан!";c["a"].database().ref("/deals/"+t.id).set(t).then((function(){console.log("Заявки добавлена ➕"),n.popupAddHidden=!0,n.SET_DEALS_FROM_SERVER()}))}else M.toast({html:"Клиент не задан!"})}})},W=C,j=Object(E["a"])(W,r,a,!1,null,null,null);e["default"]=j.exports},"8f0d":function(t,e,n){"use strict";n("2262")},"93f4":function(t,e,n){"use strict";n("e420")},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),o=n("e8b5"),i=n("861d"),c=n("7b0b"),s=n("50c4"),u=n("8418"),d=n("65f0"),l=n("1dde"),p=n("b622"),f=n("2d00"),v=p("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",m=f>=51||!a((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),S=l("concat"),_=function(t){if(!i(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)},E=!m||!S;r({target:"Array",proto:!0,forced:E},{concat:function(t){var e,n,r,a,o,i=c(this),l=d(i,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?i:arguments[e],_(o)){if(a=s(o.length),p+a>h)throw TypeError(b);for(n=0;n<a;n++,p++)n in o&&u(l,p,o[n])}else{if(p>=h)throw TypeError(b);u(l,p++,o)}return l.length=p,l}})},"9dfd":function(t,e,n){},a26a:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.hidden?"hidden":"",attrs:{id:"app-popup-wrapper"}},[n("div",{staticClass:"popup-wrapper-overlay"},[n("div",{staticClass:"popup-wrapper-content"},[t._t("default")],2)])])},a=[],o={name:"PopupWrapper",props:{hidden:Boolean}},i=o,c=(n("4b15"),n("2877")),s=Object(c["a"])(i,r,a,!1,null,"fa5ad10c",null);e["a"]=s.exports},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),o=n("1c7e"),i=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:a})},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),o=n("94ca"),i=n("6eeb"),c=n("5135"),s=n("c6b6"),u=n("7156"),d=n("c04e"),l=n("d039"),p=n("7c73"),f=n("241c").f,v=n("06cf").f,h=n("9bf2").f,b=n("58a8").trim,m="Number",S=a[m],_=S.prototype,E=s(p(_))==m,A=function(t){var e,n,r,a,o,i,c,s,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=b(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(o=u.slice(2),i=o.length,c=0;c<i;c++)if(s=o.charCodeAt(c),s<48||s>a)return NaN;return parseInt(o,r)}return+u};if(o(m,!S(" 0o1")||!S("0b1")||S("+0x1"))){for(var y,g=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof g&&(E?l((function(){_.valueOf.call(n)})):s(n)!=m)?u(new S(A(e)),n,g):A(e)},O=r?f(S):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;O.length>D;D++)c(S,y=O[D])&&!c(g,y)&&h(g,y,v(S,y));g.prototype=_,_.constructor=g,i(a,m,g)}},aecd:function(t,e,n){"use strict";n("18f7")},b0c0:function(t,e,n){var r=n("83ab"),a=n("9bf2").f,o=Function.prototype,i=o.toString,c=/^\s*function ([^ (]*)/,s="name";r&&!(s in o)&&a(o,s,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");var r=n("06c5");function a(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(r["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==n["return"]||n["return"]()}finally{if(s)throw i}}}}},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bdaf:function(t,e,n){"use strict";n("633e")},bdb2:function(t,e,n){},d28b:function(t,e,n){var r=n("746f");r("iterator")},e01a:function(t,e,n){"use strict";var r=n("23e7"),a=n("83ab"),o=n("da84"),i=n("5135"),c=n("861d"),s=n("9bf2").f,u=n("e893"),d=o.Symbol;if(a&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(p,d);var f=p.prototype=d.prototype;f.constructor=p;var v=f.toString,h="Symbol(test)"==String(d("test")),b=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=v.call(t);if(i(l,t))return"";var n=h?e.slice(7,-1):e.replace(b,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},e420:function(t,e,n){},eda4:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app-table"},[n("table",[t._t("table-content")],2)])},a=[],o={name:"AppTable"},i=o,c=(n("8f0d"),n("2877")),s=Object(c["a"])(i,r,a,!1,null,"ceecb32a",null);e["a"]=s.exports},ef11:function(t,e,n){"use strict";n("3254")},f183:function(t,e,n){var r=n("d012"),a=n("861d"),o=n("5135"),i=n("9bf2").f,c=n("90e3"),s=n("bb2f"),u=c("meta"),d=0,l=Object.isExtensible||function(){return!0},p=function(t){i(t,u,{value:{objectID:"O"+ ++d,weakData:{}}})},f=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,u)){if(!l(t))return"F";if(!e)return"E";p(t)}return t[u].objectID},v=function(t,e){if(!o(t,u)){if(!l(t))return!0;if(!e)return!1;p(t)}return t[u].weakData},h=function(t){return s&&b.REQUIRED&&l(t)&&!o(t,u)&&p(t),t},b=t.exports={REQUIRED:!1,fastKey:f,getWeakData:v,onFreeze:h};r[u]=!0},fac1:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container-select"}},[n("select",{staticClass:"app-select browser-default",attrs:{id:t.selectID},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},change:function(e){return t.$emit("select-change",e.target.value,t.count)}}},[t._t("default")],2),n("label",{staticClass:"select-label",attrs:{for:t.selectID}},[t._v(t._s(t.label))])])},a=[],o=(n("a9e3"),{name:"AppSelect",props:{selectID:String,label:String,value:String|Number,count:Number}}),i=o,c=(n("787e"),n("2877")),s=Object(c["a"])(i,r,a,!1,null,"bbf6f81a",null);e["a"]=s.exports},fb6a:function(t,e,n){"use strict";var r=n("23e7"),a=n("861d"),o=n("e8b5"),i=n("23cb"),c=n("50c4"),s=n("fc6a"),u=n("8418"),d=n("b622"),l=n("1dde"),p=n("ae40"),f=l("slice"),v=p("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),b=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!f||!v},{slice:function(t,e){var n,r,d,l=s(this),p=c(l.length),f=i(t,p),v=i(void 0===e?p:e,p);if(o(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?a(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return b.call(l,f,v);for(r=new(void 0===n?Array:n)(m(v-f,0)),d=0;f<v;f++,d++)f in l&&u(r,d,l[f]);return r.length=d,r}})}}]);
//# sourceMappingURL=chunk-1b717265.edb43727.js.map