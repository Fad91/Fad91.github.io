(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-470c1fef"],{"2a1f":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app-edit"}},[o("AppEditWrapper",{attrs:{header:"Редактор клиента: "+t.editedCustomer.name},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[o("CustomerNavigation",{attrs:{customer:t.editedCustomer},on:{"save-customer":function(e){return t.saveEditedCustomer(t.editedCustomer)}}})]},proxy:!0},{key:"edit-section",fn:function(){return[o("div",{staticClass:"edit-block"},[o("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"import_contacts","header-text":"Основные данные"}}),o("div",{staticClass:"edit-block-content"},[o("AppLineText",{attrs:{inputID:"input-city",label:"Название клиента: ",maxLength:"20"},model:{value:t.editedCustomer.name,callback:function(e){t.$set(t.editedCustomer,"name",e)},expression:"editedCustomer.name"}})],1)],1),o("div",{staticClass:"edit-block"},[o("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"chrome_reader_mode","header-text":"Заметки"}}),o("div",{staticClass:"edit-block-content"},[o("AppNumbers",{attrs:{inputID:"input-note-count",label:"Заметок в списке:  ",minValue:"0",maxValue:"35",maxLength:"3"},model:{value:t.editedCustomer.notesCount,callback:function(e){t.$set(t.editedCustomer,"notesCount",e)},expression:"editedCustomer.notesCount"}}),o("AppLineText",{attrs:{placeholder:"Введите новую заметку",inputID:"input-note",label:"Новая Заметка: ",maxLength:"35"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),o("AppNotesList",{attrs:{"notes-list":t.editedCustomer.notes,"notes-count":t.editedCustomer.notesCount}})],1)],1)]},proxy:!0}])})],1)},s=[],i=o("5530"),r=(o("99af"),o("2f62")),a=o("260b"),u=o("2721"),c=o("8ef0"),m=o("49a1"),d=o("1b06"),p=o("c0a7"),l=o("38a1"),h={name:"EditorWorkers",components:{AppEditWrapper:u["a"],CustomerNavigation:c["a"],AppNumbers:m["a"],AppLineText:d["a"],AppNotesList:p["a"],AppHeaderIcon:l["a"]},data:function(){return{editedCustomer:"",note:""}},computed:Object(i["a"])({},Object(r["c"])(["customers"])),created:function(){this.SET_CUSTOMERS_FROM_LOCAL_STORAGE(),this.editedCustomer=this.customers[this.$route.params.id]},methods:Object(i["a"])(Object(i["a"])({},Object(r["d"])(["SET_CUSTOMERS_FROM_SERVER","SET_CUSTOMERS_FROM_LOCAL_STORAGE"])),{},{editorExit:function(){this.$router.push("/customers")},saveEditedCustomer:function(t){var e=this;if(this.note.length)try{this.editedCustomer.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}catch(o){this.editedCustomer.notes=[],this.editedCustomer.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}a["a"].database().ref("customers/"+t.id).set(t).then((function(){e.SET_CUSTOMERS_FROM_SERVER(),e.editorExit()}))}})},v=h,f=o("2877"),b=Object(f["a"])(v,n,s,!1,null,null,null);e["default"]=b.exports},"3f26":function(t,e,o){"use strict";o("fc88")},"8ef0":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"customer-navigation"},[o("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerStatistics"===t.$route.name,expression:"$route.name === 'customerStatistics'"}],attrs:{icon:"av_timer",size:"1.8rem",title:"Настроить период"},on:{"button-click":function(e){return t.$emit("show-period-popup")}}}),o("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerEdit"===t.$route.name,expression:"$route.name === 'customerEdit'"}],attrs:{icon:"save",size:"1.8rem",title:"Сохранить и выйти"},on:{"button-click":function(e){return t.$emit("save-customer")}}}),o("AppButtonIcon",{attrs:{size:"0.5rem"}}),o("AppButtonIcon",{attrs:{icon:"domain",size:"1.8rem",title:"Подразделения"},on:{"button-click":function(e){return t.$router.push({name:"customerSubdivisions",params:{id:t.customer.id}})}}}),o("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerStatistics"!==t.$route.name,expression:"$route.name !== 'customerStatistics'"}],attrs:{icon:"timeline",size:"1.8rem",title:"Статистика"},on:{"button-click":function(e){return t.$router.push({name:"customerStatistics",params:{id:t.customer.id}})}}}),o("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerAbout"!==t.$route.name,expression:"$route.name !== 'customerAbout'"}],attrs:{icon:"remove_red_eye",size:"1.8rem",title:"Просмотреть"},on:{"button-click":function(e){return t.$router.push({name:"customerAbout",params:{id:t.customer.id}})}}}),o("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerEdit"!==t.$route.name,expression:"$route.name !== 'customerEdit'"}],attrs:{icon:"create",size:"1.8rem",title:"Редактировать"},on:{"button-click":function(e){return t.$router.push({name:"customerEdit",params:{id:t.customer.id}})}}}),o("AppButtonIcon",{attrs:{icon:"business_center",size:"1.8rem",title:"Вернуться к клиентам"},on:{"button-click":function(e){return t.$router.push("/customers")}}})],1)},s=[],i=o("373c"),r={name:"CustomerNavigation",components:{AppButtonIcon:i["a"]},props:{customer:Object}},a=r,u=(o("3f26"),o("2877")),c=Object(u["a"])(a,n,s,!1,null,null,null);e["a"]=c.exports},fc88:function(t,e,o){}}]);
//# sourceMappingURL=chunk-470c1fef.9093da7a.js.map