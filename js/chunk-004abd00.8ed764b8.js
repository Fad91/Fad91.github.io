(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-004abd00"],{"059f":function(e,t,n){"use strict";n("bdb2")},"18f7":function(e,t,n){},"1b06":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-line-text"}},[n("input",{staticClass:"line-text",attrs:{type:"text",maxlength:e.maxLength,id:e.inputID,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),n("label",{staticClass:"line-text-label",attrs:{for:e.inputID}},[e._v(e._s(e.label))])])},p=[],a={name:"AppLinetext",props:{inputID:String,placeholder:String,maxLength:String,label:String,value:String}},r=a,i=(n("059f"),n("2877")),u=Object(i["a"])(r,o,p,!1,null,"6bb380f1",null);t["a"]=u.exports},2262:function(e,t,n){},3368:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidePopupStatus}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"delete",size:"1.8rem",title:"Удалить"},on:{"button-click":function(t){return e.$emit("delete-element")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(t){return e.$emit("close-popup")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-delete-wrapper"},[n("p",[e._t("popup-delete-content")],2)])],1)},p=[],a=n("a26a"),r=n("34b0"),i=n("373c"),u={name:"PopupDeleteWrapper",components:{AppPopupWrapper:a["a"],AppTopPanel:r["a"],AppButtonIcon:i["a"]},props:{hidePopupStatus:Boolean,header:String}},l=u,c=(n("93f4"),n("2877")),s=Object(c["a"])(l,o,p,!1,null,"18d3d347",null);t["a"]=s.exports},"34b0":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-top-panel"}},[n("h3",{staticClass:"top-panel-header"},[e._v(e._s(e.header))]),n("div",{staticClass:"top-panel-nav-buttons"},[e._t("nav-buttons")],2)])},p=[],a={name:"AppTopPanel",props:{header:String}},r=a,i=(n("bdaf"),n("2877")),u=Object(i["a"])(r,o,p,!1,null,"11bb2a0a",null);t["a"]=u.exports},"3a7b":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidden}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить"},on:{"button-click":function(t){return e.$emit("popup-add")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(t){return e.$emit("popup-close")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-add-wrapper"},[e._t("popup-add-content")],2)],1)},p=[],a=n("a26a"),r=n("34b0"),i=n("373c"),u={name:"PopupAddWrapper",components:{AppPopupWrapper:a["a"],AppTopPanel:r["a"],AppButtonIcon:i["a"]},props:{hidden:Boolean,header:String,objectAdded:Object},data:function(){return{addedCity:{},firstNote:"Город был создан"}},created:function(){this.renewAddedData()},methods:{renewAddedData:function(){this.addedCity={id:Date.now(),name:"",notes:["Город был создан"],notesCount:"5"},this.firstNote="Город был создан"},addCity:function(e){this.$emit("add-city",e),this.renewAddedData()}}},l=u,c=n("2877"),s=Object(c["a"])(l,o,p,!1,null,null,null);t["a"]=s.exports},"4b15":function(e,t,n){"use strict";n("4ce5")},"4ce5":function(e,t,n){},"633e":function(e,t,n){},"6e81":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"app-table-row",on:{dblclick:function(t){return e.$emit("db-click")},click:function(t){return e.$emit("on-click")}}},[e._t("row-content")],2)},p=[],a={name:"AppTableWrapperRow"},r=a,i=(n("aecd"),n("2877")),u=Object(i["a"])(r,o,p,!1,null,"267b6e8d",null);t["a"]=u.exports},"8f0d":function(e,t,n){"use strict";n("2262")},"93f4":function(e,t,n){"use strict";n("e420")},"99af":function(e,t,n){"use strict";var o=n("23e7"),p=n("d039"),a=n("e8b5"),r=n("861d"),i=n("7b0b"),u=n("50c4"),l=n("8418"),c=n("65f0"),s=n("1dde"),d=n("b622"),m=n("2d00"),f=d("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",v=m>=51||!p((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),y=s("concat"),_=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:a(e)},E=!v||!y;o({target:"Array",proto:!0,forced:E},{concat:function(e){var t,n,o,p,a,r=i(this),s=c(r,0),d=0;for(t=-1,o=arguments.length;t<o;t++)if(a=-1===t?r:arguments[t],_(a)){if(p=u(a.length),d+p>b)throw TypeError(h);for(n=0;n<p;n++,d++)n in a&&l(s,d,a[n])}else{if(d>=b)throw TypeError(h);l(s,d++,a)}return s.length=d,s}})},a26a:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.hidden?"hidden":"",attrs:{id:"app-popup-wrapper"}},[n("div",{staticClass:"popup-wrapper-overlay"},[n("div",{staticClass:"popup-wrapper-content"},[e._t("default")],2)])])},p=[],a={name:"PopupWrapper",props:{hidden:Boolean}},r=a,i=(n("4b15"),n("2877")),u=Object(i["a"])(r,o,p,!1,null,"fa5ad10c",null);t["a"]=u.exports},aecd:function(e,t,n){"use strict";n("18f7")},b445:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-employees"}},[n("EmployeePopupAdd",{attrs:{"popup-hidden":e.popupAddHidden,employees:e.employees},on:{popupToggle:e.popupAddToggle,addEmployee:e.addEmployee}}),n("AppTopPanel",{attrs:{header:"Список сотрудников"},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить города"},on:{"button-click":e.popupAddToggle}})]},proxy:!0}])}),n("div",[e.employees?n("EmployeesTable",{attrs:{employees:e.employees},on:{"remove-employee":e.removeEmployee}}):e._e()],1)],1)},p=[],a=n("1da1"),r=n("5530"),i=(n("96cf"),n("2f62")),u=n("260b"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AppTableWrapper",{scopedSlots:e._u([{key:"table-content",fn:function(){return[n("PopupDeleteWrapper",{attrs:{hidePopupStatus:e.popupRemoveHidden,header:"Удаление сотрудника "+e.employee.surname+" "+e.employee.name},on:{"close-popup":e.popupRemoveToggle,"delete-element":function(t){return e.removeEmployee(e.employee.id)}},scopedSlots:e._u([{key:"popup-delete-content",fn:function(){return[e._v(' После нажатия кнопки "да" будет удалён сотрудник '+e._s(e.employee.surname)+" "+e._s(e.employee.name)+"! ")]},proxy:!0}])}),n("AppTableWrapperRow",{scopedSlots:e._u([{key:"row-content",fn:function(){return[n("th",[e._v("Фамилия")]),n("th",[e._v("Имя")]),n("th",[e._v("Почта")]),n("th",[e._v("Номер")]),n("th",[e._v("Город")]),n("th",[e._v("Должность")]),n("th")]},proxy:!0}])}),e._l(e.employees,(function(t){return[n("AppTableWrapperRow",{key:t.id,on:{"db-click":function(n){return e.$router.push({name:"employeeEdit",params:{id:t.id}})}},scopedSlots:e._u([{key:"row-content",fn:function(){return[n("td",{attrs:{title:t.surname}},[e._v(e._s(t.surname))]),n("td",{attrs:{title:t.name}},[e._v(e._s(t.name))]),n("td",[n("a",{attrs:{href:"mailto:"+t.email,title:"Написать на почту: "+t.email}},[e._v(" "+e._s(t.email)+" ")])]),n("td",[n("a",{attrs:{href:"tel:"+t.number,title:"Позвонить"}},[e._v(" "+e._s(t.mobilePhone)+" ")])]),n("td",{attrs:{title:t.city}},[e._v(e._s(t.city))]),n("td",{attrs:{title:t.duty}},[e._v(e._s(t.duty))]),n("td",{staticClass:"row-action"},[n("AppButtonIcon",{attrs:{icon:"create",title:"Редактировать",size:"1.2rem"},on:{"button-click":function(n){return e.$router.push({name:"employeeEdit",params:{id:t.id}})}}}),n("AppButtonIcon",{attrs:{icon:"delete",title:"Удалить",size:"1.2rem"},on:{"button-click":function(n){e.popupRemoveToggle(t),e.employee=t}}})],1)]},proxy:!0}],null,!0)})]}))]},proxy:!0}])})],1)},c=[],s=n("3368"),d=n("eda4"),m=n("6e81"),f=n("373c"),b={name:"TableEmployees",components:{PopupDeleteWrapper:s["a"],AppButtonIcon:f["a"],AppTableWrapper:d["a"],AppTableWrapperRow:m["a"]},props:{employees:Object},data:function(){return{employee:"",popupRemoveHidden:!0}},methods:{popupRemoveToggle:function(){this.popupRemoveHidden=!this.popupRemoveHidden},removeEmployee:function(e){this.popupRemoveToggle(),this.$emit("remove-employee",e)}}},h=b,v=n("2877"),y=Object(v["a"])(h,l,c,!1,null,null,null),_=y.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PopupAddWrapper",{attrs:{hidden:e.popupHidden,header:"Добавление сотрудника"},on:{"popup-close":function(t){return e.$emit("popupToggle")},"popup-add":function(t){return e.createEmployee()}},scopedSlots:e._u([{key:"popup-add-content",fn:function(){return[n("AppLineText",{attrs:{inputID:"input-email",label:"Почта: ",maxLength:"20"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]},proxy:!0}])})},A=[],g=(n("99af"),n("3a7b")),T=n("1b06"),w={name:"EmployeePopupAdd",components:{PopupAddWrapper:g["a"],AppLineText:T["a"]},props:{popupHidden:Boolean,employees:Object},data:function(){return{email:"",firstNote:"Сотрудник был создан"}},computed:Object(r["a"])({},Object(i["c"])(["authEmployee"])),methods:{getPassword:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!№;%:?*()@_+=",n=0;n<10;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},createEmployee:function(){var e={id:Date.now(),email:this.email,password:this.getPassword(),name:"Сотрудник",surname:"Новый",patronymic:"",sex:"Мужской",homePhone:"",mobilePhone:"",city:"",duty:"Сотрудник",access:"employee",settings:{autoUpdate:5e3},history:[{date:"[Дата: ".concat((new Date).toLocaleDateString()," Время: ").concat((new Date).toLocaleTimeString(),"]"),info:"Сотрудник создан "}]};this.$emit("addEmployee",e),this.email=""}}},O=w,S=Object(v["a"])(O,E,A,!1,null,null,null),x=S.exports,P=n("34b0"),R={name:"Employees",components:{EmployeesTable:_,AppTopPanel:P["a"],AppButtonIcon:f["a"],EmployeePopupAdd:x},computed:Object(r["a"])({},Object(i["c"])(["employees"])),data:function(){return{popupAddHidden:!0}},created:function(){this.SET_EMPLOYEES_FROM_LOCAL_STORAGE()},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(i["d"])(["SET_EMPLOYEES_FROM_LOCAL_STORAGE","SET_EMPLOYEES_FROM_SERVER"])),Object(i["b"])(["registerEmployees"])),{},{popupAddToggle:function(){this.popupAddHidden=!this.popupAddHidden},removeEmployee:function(e){var t=this;u["a"].database().ref("/employees/"+e).remove().then((function(){t.SET_EMPLOYEES_FROM_SERVER(),console.log("Сотрудник удалён 🗑️")}))},addEmployee:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.popupAddToggle(),o={email:e.email,password:e.password},n.next=4,t.registerEmployees(o);case 4:e.id=n.sent,u["a"].database().ref("/employees/"+e.id).set(e).then((function(){t.SET_EMPLOYEES_FROM_SERVER(),console.log("Сотрудник добавлен ➕")}));case 6:case"end":return n.stop()}}),n)})))()}})},k=R,j=Object(v["a"])(k,o,p,!1,null,null,null);t["default"]=j.exports},bdaf:function(e,t,n){"use strict";n("633e")},bdb2:function(e,t,n){},e420:function(e,t,n){},eda4:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-table"},[n("table",[e._t("table-content")],2)])},p=[],a={name:"AppTable"},r=a,i=(n("8f0d"),n("2877")),u=Object(i["a"])(r,o,p,!1,null,"ceecb32a",null);t["a"]=u.exports}}]);
//# sourceMappingURL=chunk-004abd00.8ed764b8.js.map