(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bf821e2"],{"1c6a":function(t,e,i){},"49a1":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"container-app-numbers"}},[i("input",{staticClass:"app-numbers",attrs:{type:"number",id:t.inputID,placeholder:t.placeholder,min:t.minValue,max:t.maxValue,maxlength:t.maxLength},domProps:{value:t.value},on:{input:function(e){return t.numbersValueSubmit(e.target.value)}}}),i("label",{staticClass:"app-numbers-label",attrs:{for:t.inputID}},[t._v(t._s(t.label))])])},a=[],o=(i("a9e3"),{name:"AppNumbers",props:{inputID:String,placeholder:String,label:String,value:String,minValue:String,maxValue:String,maxLength:String},methods:{numbersValueSubmit:function(t){var e=String(t);Number(t)>Number(this.$props.maxValue)&&(e=this.$props.maxValue,this.$forceUpdate()),Number(this.$props.minValue)>Number(t)&&(e=this.$props.minValue,this.$forceUpdate()),""===t&&(e="0"),this.$emit("input",e)}}}),s=o,p=(i("4fda"),i("2877")),r=Object(p["a"])(s,n,a,!1,null,"a1d1ccbc",null);e["a"]=r.exports},"4fda":function(t,e,i){"use strict";i("1c6a")},"62b0":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app-edit"}},[i("PopupDeleteWrapper",{attrs:{hidePopupStatus:t.popupRemoveHidden,header:"–£–¥–∞–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ "+t.editedCity.name},on:{"close-popup":t.popupRemoveToggle,"delete-element":function(e){return t.removeCity(t.editedCity)}},scopedSlots:t._u([{key:"popup-delete-content",fn:function(){return[t._v(" –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ—Ä–∑–∏–Ω—ã –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –≥–æ—Ä–æ–¥ "),i("b",[t._v(t._s(t.editedCity.name))])]},proxy:!0}])}),i("AppEditWrapper",{attrs:{header:"–†–µ–¥–∞–∫—Ç–æ—Ä –≥–æ—Ä–æ–¥–∞: "+t.editedCity.name},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[i("AppButtonIcon",{attrs:{icon:"delete",title:"–£–¥–∞–ª–∏—Ç—å –≥–æ—Ä–æ–¥"},on:{"button-click":t.popupRemoveToggle}}),i("AppButtonIcon",{attrs:{icon:"save",title:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏"},on:{"button-click":function(e){return t.saveEditedCity(t.editedCity)}}}),i("AppButtonIcon",{attrs:{icon:"location_city",title:"–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–æ—Ä–æ–¥–∞–º"},on:{"button-click":t.editorExit}})]},proxy:!0},{key:"edit-section",fn:function(){return[i("div",{staticClass:"edit-block"},[i("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"import_contacts","header-text":"–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"}}),i("div",{staticClass:"edit-block-content"},[i("AppLineText",{attrs:{inputID:"input-city",label:"–ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞: ",maxLength:"20"},model:{value:t.editedCity.name,callback:function(e){t.$set(t.editedCity,"name",e)},expression:"editedCity.name"}})],1)],1),i("div",{staticClass:"edit-block"},[i("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"chrome_reader_mode","header-text":"–ó–∞–º–µ—Ç–∫–∏"}}),i("div",{staticClass:"edit-block-content"},[i("AppNumbers",{attrs:{inputID:"input-note-count",label:"–ó–∞–º–µ—Ç–æ–∫ –≤ —Å–ø–∏—Å–∫–µ:  ",minValue:"0",maxValue:"35",maxLength:"3"},model:{value:t.editedCity.notesCount,callback:function(e){t.$set(t.editedCity,"notesCount",e)},expression:"editedCity.notesCount"}}),i("AppLineText",{attrs:{placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É",inputID:"input-note",label:"–ù–æ–≤–∞—è –ó–∞–º–µ—Ç–∫–∞: ",maxLength:"35"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),i("AppNotesList",{attrs:{"notes-list":t.editedCity.notes,"notes-count":t.editedCity.notesCount}})],1)],1)]},proxy:!0}])})],1)},a=[],o=i("5530"),s=(i("99af"),i("260b")),p=i("2f62"),r=i("2721"),u=i("38a1"),c=i("c0a7"),d=i("1b06"),l=i("49a1"),m=i("373c"),h=i("3368"),b={name:"CityEdit",components:{AppEditWrapper:r["a"],AppHeaderIcon:u["a"],AppButtonIcon:m["a"],AppLineText:d["a"],AppNumbers:l["a"],AppNotesList:c["a"],PopupDeleteWrapper:h["a"]},data:function(){return{popupRemoveHidden:!0,editedCity:"",note:""}},computed:Object(o["a"])({},Object(p["c"])(["sites"])),created:function(){this.SET_SITES_FROM_LOCAL_STORAGE(),this.editedCity=this.sites[this.$route.params.id]},methods:Object(o["a"])(Object(o["a"])({},Object(p["d"])(["SET_SITES_FROM_SERVER","SET_SITES_FROM_LOCAL_STORAGE"])),{},{popupRemoveToggle:function(){this.popupRemoveHidden=!this.popupRemoveHidden},removeCity:function(t){var e=this;this.popupRemoveToggle(),this.editorExit(),s["a"].database().ref("/sites/"+t.id).remove().then((function(){console.log("–ì–æ—Ä–æ–¥ —É–¥–∞–ª—ë–Ω üóëÔ∏è"),e.SET_SITES_FROM_SERVER()}))},editorExit:function(){this.$router.push("/sites")},saveEditedCity:function(t){var e=this;if(this.note.length)try{this.editedCity.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}catch(i){this.editedCity.notes=[],this.editedCity.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}s["a"].database().ref("/sites/"+t.id).set(t).then((function(){e.SET_SITES_FROM_SERVER(),e.editorExit(),M.toast({html:"–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!"})}))}})},f=b,v=i("2877"),C=Object(v["a"])(f,n,a,!1,null,null,null);e["default"]=C.exports}}]);
//# sourceMappingURL=chunk-5bf821e2.08658626.js.map