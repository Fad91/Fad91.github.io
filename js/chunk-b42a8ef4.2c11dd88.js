(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b42a8ef4"],{"1c6a":function(t,e,n){},"2a1f":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app-edit"}},[n("AppEditWrapper",{attrs:{header:"Редактор клиента: "+t.editedCustomer.name},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[n("CustomerNavigation",{attrs:{customer:t.editedCustomer},on:{"save-customer":function(e){return t.saveEditedCustomer(t.editedCustomer)}}})]},proxy:!0},{key:"edit-section",fn:function(){return[n("div",{staticClass:"edit-block"},[n("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"import_contacts","header-text":"Основные данные"}}),n("div",{staticClass:"edit-block-content"},[n("AppLineText",{attrs:{inputID:"input-city",label:"Название клиента: ",maxLength:"20"},model:{value:t.editedCustomer.name,callback:function(e){t.$set(t.editedCustomer,"name",e)},expression:"editedCustomer.name"}})],1)],1),n("div",{staticClass:"edit-block"},[n("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"chrome_reader_mode","header-text":"Заметки"}}),n("div",{staticClass:"edit-block-content"},[n("AppNumbers",{attrs:{inputID:"input-note-count",label:"Заметок в списке:  ",minValue:"0",maxValue:"35",maxLength:"3"},model:{value:t.editedCustomer.notesCount,callback:function(e){t.$set(t.editedCustomer,"notesCount",e)},expression:"editedCustomer.notesCount"}}),n("AppLineText",{attrs:{placeholder:"Введите новую заметку",inputID:"input-note",label:"Новая Заметка: ",maxLength:"35"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),n("AppNotesList",{attrs:{"notes-list":t.editedCustomer.notes,"notes-count":t.editedCustomer.notesCount}})],1)],1)]},proxy:!0}])})],1)},o=[],a=n("5530"),i=(n("99af"),n("2f62")),r=n("260b"),u=n("2721"),c=n("8ef0"),m=n("49a1"),p=n("1b06"),l=n("c0a7"),d=n("38a1"),h={name:"EditorWorkers",components:{AppEditWrapper:u["a"],CustomerNavigation:c["a"],AppNumbers:m["a"],AppLineText:p["a"],AppNotesList:l["a"],AppHeaderIcon:d["a"]},data:function(){return{editedCustomer:"",note:""}},computed:Object(a["a"])({},Object(i["c"])(["customers"])),created:function(){this.SET_CUSTOMERS_FROM_LOCAL_STORAGE(),this.editedCustomer=this.customers[this.$route.params.id]},methods:Object(a["a"])(Object(a["a"])({},Object(i["d"])(["SET_CUSTOMERS_FROM_SERVER","SET_CUSTOMERS_FROM_LOCAL_STORAGE"])),{},{editorExit:function(){this.$router.push("/customers")},saveEditedCustomer:function(t){var e=this;if(this.note.length)try{this.editedCustomer.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}catch(n){this.editedCustomer.notes=[],this.editedCustomer.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}r["a"].database().ref("customers/"+t.id).set(t).then((function(){e.SET_CUSTOMERS_FROM_SERVER(),e.editorExit()}))}})},b=h,v=n("2877"),f=Object(v["a"])(b,s,o,!1,null,null,null);e["default"]=f.exports},"3f26":function(t,e,n){"use strict";n("fc88")},"49a1":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container-app-numbers"}},[n("input",{staticClass:"app-numbers",attrs:{type:"number",id:t.inputID,placeholder:t.placeholder,min:t.minValue,max:t.maxValue,maxlength:t.maxLength},domProps:{value:t.value},on:{input:function(e){return t.numbersValueSubmit(e.target.value)}}}),n("label",{staticClass:"app-numbers-label",attrs:{for:t.inputID}},[t._v(t._s(t.label))])])},o=[],a=(n("a9e3"),{name:"AppNumbers",props:{inputID:String,placeholder:String,label:String,value:String,minValue:String,maxValue:String,maxLength:String},methods:{numbersValueSubmit:function(t){var e=String(t);Number(t)>Number(this.$props.maxValue)&&(e=this.$props.maxValue,this.$forceUpdate()),Number(this.$props.minValue)>Number(t)&&(e=this.$props.minValue,this.$forceUpdate()),""===t&&(e="0"),this.$emit("input",e)}}}),i=a,r=(n("4fda"),n("2877")),u=Object(r["a"])(i,s,o,!1,null,"a1d1ccbc",null);e["a"]=u.exports},"4fda":function(t,e,n){"use strict";n("1c6a")},"8ef0":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"customer-navigation"},[n("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerStatistics"===t.$route.name,expression:"$route.name === 'customerStatistics'"}],attrs:{icon:"av_timer",size:"1.8rem",title:"Настроить период"},on:{"button-click":function(e){return t.$emit("show-period-popup")}}}),n("div",{staticClass:"save",on:{click:function(e){return t.$emit("save-customer")}}},[n("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerEdit"===t.$route.name,expression:"$route.name === 'customerEdit'"}],attrs:{title:"Сохранить и выйти"}}),n("span",{staticClass:"save-span"},[t._v("Сохранить")])],1),n("AppButtonIcon",{attrs:{size:"0.5rem"}}),n("AppButtonIcon",{attrs:{icon:"domain",size:"1.8rem",title:"Подразделения"},on:{"button-click":function(e){return t.$router.push({name:"customerSubdivisions",params:{id:t.customer.id}})}}}),n("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerStatistics"!==t.$route.name,expression:"$route.name !== 'customerStatistics'"}],attrs:{icon:"timeline",size:"1.8rem",title:"Статистика"},on:{"button-click":function(e){return t.$router.push({name:"customerStatistics",params:{id:t.customer.id}})}}}),n("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerAbout"!==t.$route.name,expression:"$route.name !== 'customerAbout'"}],attrs:{icon:"remove_red_eye",size:"1.8rem",title:"Просмотреть"},on:{"button-click":function(e){return t.$router.push({name:"customerAbout",params:{id:t.customer.id}})}}}),n("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerEdit"!==t.$route.name,expression:"$route.name !== 'customerEdit'"}],attrs:{icon:"create",size:"1.8rem",title:"Редактировать"},on:{"button-click":function(e){return t.$router.push({name:"customerEdit",params:{id:t.customer.id}})}}}),n("AppButtonIcon",{attrs:{icon:"business_center",size:"1.8rem",title:"Вернуться к клиентам"},on:{"button-click":function(e){return t.$router.push("/customers")}}})],1)},o=[],a=n("373c"),i={name:"CustomerNavigation",components:{AppButtonIcon:a["a"]},props:{customer:Object}},r=i,u=(n("3f26"),n("2877")),c=Object(u["a"])(r,s,o,!1,null,null,null);e["a"]=c.exports},fc88:function(t,e,n){}}]);
//# sourceMappingURL=chunk-b42a8ef4.2c11dd88.js.map