(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17548679"],{"07ac":function(t,e,s){var a=s("23e7"),i=s("6f53").values;a({target:"Object",stat:!0},{values:function(t){return i(t)}})},"4aa2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"page-title flex-between-center"},[s("div",{staticClass:"flex-center"},[s("h3",{staticClass:"right-margin-big"},[t._v("Подразделения "+t._s(t.currentCustomer.name))]),s("div",{staticClass:"flex-center"},[s("button",{staticClass:"btn-transparent transparent btn-page-title blue-text text-darken-1",attrs:{title:"Обновить страницу"},on:{click:t.updateCustomers}},[s("i",{staticClass:"material-icons middle-material-icons"},[t._v("autorenew")])])])]),s("SubdivisionAdd",{attrs:{placeholder:"Добавить новое подразделение"},on:{"add-element":t.addCustomer}})],1),s("section",[s("CustomerSubdivisionsTable",{attrs:{customers:t.customerSubdivisions,customerId:t.customerId},on:{"remove-customer":t.removeCustomer}})],1)])},i=[],n=s("5530"),r=s("c3ec"),u=s("8e20"),c=s("2f62"),o={name:"CustomerSubdivisions",components:{CustomerSubdivisionsTable:r["a"],SubdivisionAdd:u["a"]},computed:Object(n["a"])({},Object(c["c"])(["customers","authEmployee"])),methods:Object(n["a"])({},Object(c["d"])(["SET_CUSTOMERS_FROM_SERVER","SET_CUSTOMERS_FROM_LOCAL_STORAGE","SET_EMPLOYEES_FROM_LOCAL_STORAGE"]))},l=o,m=s("2877"),d=Object(m["a"])(l,a,i,!1,null,null,null);e["default"]=d.exports},5614:function(t,e,s){"use strict";e["a"]={data:function(){return{popupShow:!1}},methods:{popupVisibility:function(){this.popupShow=!0},popupHidden:function(){this.popupShow=!1}}}},"6f53":function(t,e,s){var a=s("83ab"),i=s("df75"),n=s("fc6a"),r=s("d1e7").f,u=function(t){return function(e){var s,u=n(e),c=i(u),o=c.length,l=0,m=[];while(o>l)s=c[l++],a&&!r.call(u,s)||m.push(t?[s,u[s]]:u[s]);return m}};t.exports={entries:u(!0),values:u(!1)}},"8e20":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"flex-center",on:{submit:function(e){return e.preventDefault(),t.submitElement.apply(null,arguments)}}},[s("div",{staticClass:"input-field margin-fix right-margin-little"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-add",attrs:{type:"text",maxlength:"50",placeholder:t.placeholder},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._m(0)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn-transparent transparent btn-page-title blue-text text-darken-1",attrs:{type:"submit"}},[s("i",{staticClass:"material-icons big-material-icons"},[t._v("add")])])}],n=(s("b0c0"),{name:"InputAdd",props:{placeholder:String},data:function(){return{name:""}},methods:{submitElement:function(){console.log(this.name),this.$emit("add-element",this.name),this.name=""}}}),r=n,u=s("2877"),c=Object(u["a"])(r,a,i,!1,null,null,null);e["a"]=c.exports},b0c0:function(t,e,s){var a=s("83ab"),i=s("9bf2").f,n=Function.prototype,r=n.toString,u=/^\s*function ([^ (]*)/,c="name";a&&!(c in n)&&i(n,c,{configurable:!0,get:function(){try{return r.call(this).match(u)[1]}catch(t){return""}}})},c3ec:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.popupShow?s("Popup",{attrs:{"popup-toast":"Клиент был удалён!"},on:{yes:function(e){return t.removeCustomer(t.customer)},no:function(e){return t.popupHidden()}},scopedSlots:t._u([{key:"title-popup",fn:function(){return[t._v(" Удалить? ")]},proxy:!0},{key:"text-info-popup",fn:function(){return[t._v(" Клиент "),s("b",[t._v(t._s(t.customer.name))]),t._v(" будет удалён ")]},proxy:!0}],null,!1,12950149)}):t._e(),s("table",[t._m(0),t._l(t.customers,(function(e){return s("tr",{key:e.value,class:"Действующий"===e.status?"":"opacity-5"},[s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.name}},[t._v(t._s(e.name))])])]),s("td",[s("a",{attrs:{href:"tel:"+e.number,title:"Позвонить"}},[t._v(t._s(e.number))])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("a",{staticClass:"clip-text",attrs:{title:e.site,target:"_blank",href:e.site}},[t._v(t._s(e.site))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("a",{staticClass:"clip-text",attrs:{href:"mailto:"+e.email,title:"Написать на почту: "+e.email}},[t._v(t._s(e.email))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.address}},[t._v(t._s(e.address))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.manager}},[t._v(t._s(e.manager))])])]),s("td",["Действующий"===e.status?s("div",{staticClass:"circle green darken-1",attrs:{title:"Действующий"}}):s("div",{staticClass:"circle red darken-1",attrs:{title:"Сотрудничество прервано"}})]),s("td",[s("div",{staticClass:"flex-center btns-collection"},[s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Сотрудники",to:{name:"subdivisionEmployees",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("group")])]),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Просмотреть",to:{name:"customerAboutSubdivision",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Редактировать",to:{name:"customerEditSubdivision",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("create")])]),e.edited?t._e():s("button",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Удалить"},on:{click:function(s){t.popupVisibility(e),t.setCustomer(e),t.removeCustomer(e)}}},[s("i",{staticClass:"material-icons"},[t._v("delete")])])],1)])])}))],2)],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("Наименование")]),s("th",[t._v("Телефон")]),s("th",[t._v("Сайт")]),s("th",[t._v("Почта")]),s("th",[t._v("Адрес")]),s("th",[t._v("Менеджер")]),s("th",[t._v("Статус")])])}],n=(s("d81d"),s("07ac"),s("b0c0"),s("5614")),r={name:"CustomerSubdivisionsTable",mixins:[n["a"]],props:{customers:Object,customerId:String},data:function(){return{customer:""}},computed:{customerArray:function(){return Object.values(this.customers).map((function(t){var e=t.name,s=t.number,a=t.site,i=t.email,n=t.address,r=t.manager;return{name:e,number:s,site:a,email:i,address:n,manager:r}}))}},methods:{setCustomer:function(t){this.customer=t},removeCustomer:function(t){this.$emit("remove-customer",t.id),this.popupHidden()}}},u=r,c=s("2877"),o=Object(c["a"])(u,a,i,!1,null,"1ac656aa",null);e["a"]=o.exports},d81d:function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").map,n=s("1dde"),r=s("ae40"),u=n("map"),c=r("map");a({target:"Array",proto:!0,forced:!u||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-17548679.ccb0a810.js.map