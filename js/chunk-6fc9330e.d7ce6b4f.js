(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fc9330e"],{"07ac":function(t,e,s){var a=s("23e7"),i=s("6f53").values;a({target:"Object",stat:!0},{values:function(t){return i(t)}})},"4aa2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"page-title flex-between-center"},[s("div",{staticClass:"flex-center"},[s("h3",{staticClass:"right-margin-big"},[t._v("ÐŸÐ¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ñ "+t._s(t.currentCustomer.name))]),s("div",{staticClass:"flex-center"},[s("button",{staticClass:"btn-transparent transparent btn-page-title blue-text text-darken-1",attrs:{title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ"},on:{click:t.updateCustomers}},[s("i",{staticClass:"material-icons middle-material-icons"},[t._v("autorenew")])])])]),s("SubdivisionAdd",{attrs:{placeholder:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ð¾Ðµ Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ"},on:{"add-element":t.addCustomer}})],1),s("section",[s("CustomerSubdivisionsTable",{attrs:{customers:t.customerSubdivisions,customerId:t.customerId},on:{"remove-customer":t.removeCustomer}})],1)])},i=[],n=s("5530"),r=(s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.popupShow?s("Popup",{attrs:{"popup-toast":"ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð±Ñ‹Ð» ÑƒÐ´Ð°Ð»Ñ‘Ð½!"},on:{yes:function(e){return t.removeCustomer(t.customer)},no:function(e){return t.popupHidden()}},scopedSlots:t._u([{key:"title-popup",fn:function(){return[t._v(" Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ? ")]},proxy:!0},{key:"text-info-popup",fn:function(){return[t._v(" ÐšÐ»Ð¸ÐµÐ½Ñ‚ "),s("b",[t._v(t._s(t.customer.name))]),t._v(" Ð±ÑƒÐ´ÐµÑ‚ ÑƒÐ´Ð°Ð»Ñ‘Ð½ ")]},proxy:!0}],null,!1,12950149)}):t._e(),s("table",[t._m(0),t._l(t.customers,(function(e){return s("tr",{key:e.value,class:"Ð”ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹"===e.status?"":"opacity-5"},[s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.name}},[t._v(t._s(e.name))])])]),s("td",[s("a",{attrs:{href:"tel:"+e.number,title:"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ"}},[t._v(t._s(e.number))])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("a",{staticClass:"clip-text",attrs:{title:e.site,target:"_blank",href:e.site}},[t._v(t._s(e.site))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("a",{staticClass:"clip-text",attrs:{href:"mailto:"+e.email,title:"ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð½Ð° Ð¿Ð¾Ñ‡Ñ‚Ñƒ: "+e.email}},[t._v(t._s(e.email))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.address}},[t._v(t._s(e.address))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.manager}},[t._v(t._s(e.manager))])])]),s("td",["Ð”ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹"===e.status?s("div",{staticClass:"circle green darken-1",attrs:{title:"Ð”ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹"}}):s("div",{staticClass:"circle red darken-1",attrs:{title:"Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ñ€ÐµÑ€Ð²Ð°Ð½Ð¾"}})]),s("td",[s("div",{staticClass:"flex-center btns-collection"},[s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¸",to:{name:"subdivisionEmployees",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("group")])]),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ",to:{name:"customerAboutSubdivision",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",to:{name:"customerEditSubdivision",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("create")])]),e.edited?t._e():s("button",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"},on:{click:function(s){t.popupVisibility(e),t.setCustomer(e),t.removeCustomer(e)}}},[s("i",{staticClass:"material-icons"},[t._v("delete")])])],1)])])}))],2)],1)}),o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ")]),s("th",[t._v("Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½")]),s("th",[t._v("Ð¡Ð°Ð¹Ñ‚")]),s("th",[t._v("ÐŸÐ¾Ñ‡Ñ‚Ð°")]),s("th",[t._v("ÐÐ´Ñ€ÐµÑ")]),s("th",[t._v("ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€")]),s("th",[t._v("Ð¡Ñ‚Ð°Ñ‚ÑƒÑ")])])}],u=(s("d81d"),s("07ac"),s("5614")),c={name:"CustomerSubdivisionsTable",mixins:[u["a"]],props:{customers:Object,customerId:String},data:function(){return{customer:""}},computed:{customerArray:function(){return Object.values(this.customers).map((function(t){var e=t.name,s=t.number,a=t.site,i=t.email,n=t.address,r=t.manager;return{name:e,number:s,site:a,email:i,address:n,manager:r}}))}},methods:{setCustomer:function(t){this.customer=t},removeCustomer:function(t){this.$emit("remove-customer",t.id),this.popupHidden()}}},l=c,m=s("2877"),d=Object(m["a"])(l,r,o,!1,null,"1ac656aa",null),p=d.exports,v=s("8e20"),f=s("2f62"),b=s("260b"),h={name:"CustomerSubdivisions",components:{CustomerSubdivisionsTable:p,SubdivisionAdd:v["a"]},computed:Object(n["a"])(Object(n["a"])({},Object(f["c"])(["customers","authEmployee"])),{},{customerId:function(){return String(this.$route.params.id)},currentCustomer:function(){return this.customers[this.customerId]},customerSubdivisions:function(){return this.currentCustomer.subdivisions}}),created:function(){this.SET_CUSTOMERS_FROM_LOCAL_STORAGE(),this.SET_EMPLOYEES_FROM_LOCAL_STORAGE()},methods:Object(n["a"])(Object(n["a"])({},Object(f["d"])(["SET_CUSTOMERS_FROM_SERVER","SET_CUSTOMERS_FROM_LOCAL_STORAGE","SET_EMPLOYEES_FROM_LOCAL_STORAGE"])),{},{removeCustomer:function(t){var e=this;0==t?M.toast({html:"Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð½ÐµÐ»ÑŒÐ·Ñ ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ!"}):b["a"].database().ref("/customers/"+this.customerId+"/subdivisions/"+t).remove().then((function(){e.SET_CUSTOMERS_FROM_SERVER(),console.log("ÐŸÐ¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ ÑƒÐ´Ð°Ð»Ñ‘Ð½Ð¾ ðŸ—‘ï¸")}))},addCustomer:function(t){var e=this,s={id:Date.now(),name:t,contractNumber:"",contractDate:"",number:"",fax:"",site:"",email:"",address:this.authEmployee.city,notes:["ÐÐ¾Ð²Ð¾Ðµ Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ"],manager:this.authEmployee.surname+" "+this.authEmployee.name,status:"Ð”ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹"};b["a"].database().ref("/customers/"+this.customerId+"/subdivisions/"+s.id).set(s).then((function(){e.SET_CUSTOMERS_FROM_SERVER(),console.log("ÐŸÐ¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ âž•")}))},updateCustomers:function(){this.SET_CUSTOMERS_FROM_SERVER(),M.toast({html:"ÐÐ°ÑˆÐ¸ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñ‹ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹"})}})},_=h,C=Object(m["a"])(_,a,i,!1,null,null,null);e["default"]=C.exports},5614:function(t,e,s){"use strict";e["a"]={data:function(){return{popupShow:!1}},methods:{popupVisibility:function(){this.popupShow=!0},popupHidden:function(){this.popupShow=!1}}}},"6f53":function(t,e,s){var a=s("83ab"),i=s("df75"),n=s("fc6a"),r=s("d1e7").f,o=function(t){return function(e){var s,o=n(e),u=i(o),c=u.length,l=0,m=[];while(c>l)s=u[l++],a&&!r.call(o,s)||m.push(t?[s,o[s]]:o[s]);return m}};t.exports={entries:o(!0),values:o(!1)}},"8e20":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"flex-center",on:{submit:function(e){return e.preventDefault(),t.submitElement.apply(null,arguments)}}},[s("div",{staticClass:"input-field margin-fix right-margin-little"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-add",attrs:{type:"text",maxlength:"50",placeholder:t.placeholder},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._m(0)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn-transparent transparent btn-page-title blue-text text-darken-1",attrs:{type:"submit"}},[s("i",{staticClass:"material-icons big-material-icons"},[t._v("add")])])}],n=(s("b0c0"),{name:"InputAdd",props:{placeholder:String},data:function(){return{name:""}},methods:{submitElement:function(){console.log(this.name),this.$emit("add-element",this.name),this.name=""}}}),r=n,o=s("2877"),u=Object(o["a"])(r,a,i,!1,null,null,null);e["a"]=u.exports},b0c0:function(t,e,s){var a=s("83ab"),i=s("9bf2").f,n=Function.prototype,r=n.toString,o=/^\s*function ([^ (]*)/,u="name";a&&!(u in n)&&i(n,u,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},d81d:function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").map,n=s("1dde"),r=s("ae40"),o=n("map"),u=r("map");a({target:"Array",proto:!0,forced:!o||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-6fc9330e.d7ce6b4f.js.map