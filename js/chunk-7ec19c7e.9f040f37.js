(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ec19c7e"],{"0ab3":function(e,t,n){},"1b06":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-line-text"}},[n("input",{staticClass:"line-text",attrs:{type:"text",maxlength:e.maxLength,id:e.inputID,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),n("label",{staticClass:"line-text-label",attrs:{for:e.inputID}},[e._v(e._s(e.label))])])},a=[],p=(n("a9e3"),{name:"AppLinetext",props:{inputID:String,placeholder:String,maxLength:String,label:String,value:[Number,String],subdivision:String}}),r=p,i=(n("71d1"),n("2877")),c=Object(i["a"])(r,o,a,!1,null,"c37a33a2",null);t["a"]=c.exports},3368:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidePopupStatus}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"delete",size:"1.8rem",title:"Удалить"},on:{"button-click":function(t){return e.$emit("delete-element")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(t){return e.$emit("close-popup")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-delete-wrapper"},[n("p",[e._t("popup-delete-content")],2)])],1)},a=[],p=n("a26a"),r=n("34b0"),i=n("373c"),c={name:"PopupDeleteWrapper",components:{AppPopupWrapper:p["a"],AppTopPanel:r["a"],AppButtonIcon:i["a"]},props:{hidePopupStatus:Boolean,header:String}},u=c,s=(n("93f4"),n("2877")),l=Object(s["a"])(u,o,a,!1,null,"18d3d347",null);t["a"]=l.exports},"34b0":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-top-panel"}},[n("h3",{staticClass:"top-panel-header"},[e._v(e._s(e.header))]),n("div",{staticClass:"top-panel-nav-buttons"},[e._t("nav-buttons")],2)])},a=[],p={name:"AppTopPanel",props:{header:String}},r=p,i=(n("bdaf"),n("2877")),c=Object(i["a"])(r,o,a,!1,null,"11bb2a0a",null);t["a"]=c.exports},"3a7b":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidden}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить"},on:{"button-click":function(t){return e.$emit("popup-add")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(t){return e.$emit("popup-close")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-add-wrapper"},[e._t("popup-add-content")],2)],1)},a=[],p=n("a26a"),r=n("34b0"),i=n("373c"),c={name:"PopupAddWrapper",components:{AppPopupWrapper:p["a"],AppTopPanel:r["a"],AppButtonIcon:i["a"]},props:{hidden:Boolean,header:String,objectAdded:Object},data:function(){return{addedCity:{},firstNote:"Город был создан"}},created:function(){this.renewAddedData()},methods:{renewAddedData:function(){this.addedCity={id:Date.now(),name:"",notes:["Город был создан"],notesCount:"5"},this.firstNote="Город был создан"},addCity:function(e){this.$emit("add-city",e),this.renewAddedData()}}},u=c,s=n("2877"),l=Object(s["a"])(u,o,a,!1,null,null,null);t["a"]=l.exports},"4b15":function(e,t,n){"use strict";n("4ce5")},"4ce5":function(e,t,n){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("1d80"),a=n("5899"),p="["+a+"]",r=RegExp("^"+p+p+"*"),i=RegExp(p+p+"*$"),c=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"619a":function(e,t,n){"use strict";n("dda0")},"633e":function(e,t,n){},"6e81":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"app-table-row",on:{dblclick:function(t){return e.$emit("db-click")},click:function(t){return e.$emit("on-click")}}},[e._t("row-content")],2)},a=[],p={name:"AppTableWrapperRow"},r=p,i=(n("84ad"),n("2877")),c=Object(i["a"])(r,o,a,!1,null,"f4bc0862",null);t["a"]=c.exports},7156:function(e,t,n){var o=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var p,r;return a&&"function"==typeof(p=t.constructor)&&p!==n&&o(r=p.prototype)&&r!==n.prototype&&a(e,r),e}},"71d1":function(e,t,n){"use strict";n("74a0")},"74a0":function(e,t,n){},"84ad":function(e,t,n){"use strict";n("0ab3")},"93f4":function(e,t,n){"use strict";n("e420")},"99af":function(e,t,n){"use strict";var o=n("23e7"),a=n("d039"),p=n("e8b5"),r=n("861d"),i=n("7b0b"),c=n("50c4"),u=n("8418"),s=n("65f0"),l=n("1dde"),d=n("b622"),m=n("2d00"),f=d("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",v=m>=51||!a((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),_=l("concat"),y=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:p(e)},E=!v||!_;o({target:"Array",proto:!0,forced:E},{concat:function(e){var t,n,o,a,p,r=i(this),l=s(r,0),d=0;for(t=-1,o=arguments.length;t<o;t++)if(p=-1===t?r:arguments[t],y(p)){if(a=c(p.length),d+a>b)throw TypeError(h);for(n=0;n<a;n++,d++)n in p&&u(l,d,p[n])}else{if(d>=b)throw TypeError(h);u(l,d++,p)}return l.length=d,l}})},a26a:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.hidden?"hidden":"",attrs:{id:"app-popup-wrapper"}},[n("div",{staticClass:"popup-wrapper-overlay"},[n("div",{staticClass:"popup-wrapper-content"},[e._t("default")],2)])])},a=[],p={name:"PopupWrapper",props:{hidden:Boolean}},r=p,i=(n("4b15"),n("2877")),c=Object(i["a"])(r,o,a,!1,null,"fa5ad10c",null);t["a"]=c.exports},a9e3:function(e,t,n){"use strict";var o=n("83ab"),a=n("da84"),p=n("94ca"),r=n("6eeb"),i=n("5135"),c=n("c6b6"),u=n("7156"),s=n("c04e"),l=n("d039"),d=n("7c73"),m=n("241c").f,f=n("06cf").f,b=n("9bf2").f,h=n("58a8").trim,v="Number",_=a[v],y=_.prototype,E=c(d(y))==v,A=function(e){var t,n,o,a,p,r,i,c,u=s(e,!1);if("string"==typeof u&&u.length>2)if(u=h(u),t=u.charCodeAt(0),43===t||45===t){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+u}for(p=u.slice(2),r=p.length,i=0;i<r;i++)if(c=p.charCodeAt(i),c<48||c>a)return NaN;return parseInt(p,o)}return+u};if(p(v,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var g,T=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof T&&(E?l((function(){y.valueOf.call(n)})):c(n)!=v)?u(new _(A(t)),n,T):A(t)},w=o?m(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(_,g=w[x])&&!i(T,g)&&b(T,g,f(_,g));T.prototype=y,y.constructor=T,r(a,v,T)}},b445:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-employees"}},[n("EmployeePopupAdd",{attrs:{"popup-hidden":e.popupAddHidden,employees:e.employees},on:{popupToggle:e.popupAddToggle,addEmployee:e.addEmployee}}),n("AppTopPanel",{attrs:{header:"Список сотрудников"},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить города"},on:{"button-click":e.popupAddToggle}})]},proxy:!0}])}),n("div",[e.employees?n("EmployeesTable",{attrs:{employees:e.employees},on:{"remove-employee":e.removeEmployee}}):e._e()],1)],1)},a=[],p=n("1da1"),r=n("5530"),i=(n("96cf"),n("2f62")),c=n("260b"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AppTableWrapper",{scopedSlots:e._u([{key:"table-content",fn:function(){return[n("PopupDeleteWrapper",{attrs:{hidePopupStatus:e.popupRemoveHidden,header:"Удаление сотрудника "+e.employee.surname+" "+e.employee.name},on:{"close-popup":e.popupRemoveToggle,"delete-element":function(t){return e.removeEmployee(e.employee.id)}},scopedSlots:e._u([{key:"popup-delete-content",fn:function(){return[e._v(' После нажатия кнопки "да" будет удалён сотрудник '+e._s(e.employee.surname)+" "+e._s(e.employee.name)+"! ")]},proxy:!0}])}),n("AppTableWrapperRow",{scopedSlots:e._u([{key:"row-content",fn:function(){return[n("th",[e._v("Фамилия")]),n("th",[e._v("Имя")]),n("th",[e._v("Почта")]),n("th",[e._v("Номер")]),n("th",[e._v("Город")]),n("th",[e._v("Должность")]),n("th")]},proxy:!0}])}),e._l(e.employees,(function(t){return[n("AppTableWrapperRow",{key:t.id,on:{"on-click":function(n){return e.$router.push({name:"employeeEdit",params:{id:t.id}})}},scopedSlots:e._u([{key:"row-content",fn:function(){return[n("td",{attrs:{title:t.surname}},[e._v(e._s(t.surname))]),n("td",{attrs:{title:t.name}},[e._v(e._s(t.name))]),n("td",[n("a",{attrs:{href:"mailto:"+t.email,title:"Написать на почту: "+t.email}},[e._v(" "+e._s(t.email)+" ")])]),n("td",[n("a",{attrs:{href:"tel:"+t.number,title:"Позвонить"}},[e._v(" "+e._s(t.mobilePhone)+" ")])]),n("td",{attrs:{title:t.city}},[e._v(e._s(t.city))]),n("td",{attrs:{title:t.duty}},[e._v(e._s(t.duty))]),n("td",{staticClass:"row-action"},[n("AppButtonIcon",{attrs:{icon:"create",title:"Редактировать",size:"1.5rem"},on:{"button-click":function(n){return e.$router.push({name:"employeeEdit",params:{id:t.id}})}}}),n("AppButtonIcon",{attrs:{icon:"delete",title:"Удалить",size:"1.5rem"},on:{"button-click":function(n){e.popupRemoveToggle(t),e.employee=t}}})],1)]},proxy:!0}],null,!0)})]}))]},proxy:!0}])})],1)},s=[],l=n("3368"),d=n("eda4"),m=n("6e81"),f=n("373c"),b={name:"TableEmployees",components:{PopupDeleteWrapper:l["a"],AppButtonIcon:f["a"],AppTableWrapper:d["a"],AppTableWrapperRow:m["a"]},props:{employees:Object},data:function(){return{employee:"",popupRemoveHidden:!0}},methods:{popupRemoveToggle:function(){this.popupRemoveHidden=!this.popupRemoveHidden},removeEmployee:function(e){this.popupRemoveToggle(),this.$emit("remove-employee",e)}}},h=b,v=n("2877"),_=Object(v["a"])(h,u,s,!1,null,null,null),y=_.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PopupAddWrapper",{attrs:{hidden:e.popupHidden,header:"Добавление сотрудника"},on:{"popup-close":function(t){return e.$emit("popupToggle")},"popup-add":function(t){return e.createEmployee()}},scopedSlots:e._u([{key:"popup-add-content",fn:function(){return[n("AppLineText",{attrs:{inputID:"input-email",label:"Почта: ",maxLength:"50"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("AppLineText",{attrs:{inputID:"input-password",label:"Пароль: ",maxLength:"50"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})]},proxy:!0}])})},A=[],g=(n("99af"),n("3a7b")),T=n("1b06"),w={name:"EmployeePopupAdd",components:{PopupAddWrapper:g["a"],AppLineText:T["a"]},props:{popupHidden:Boolean,employees:Object},data:function(){return{email:"",password:"",firstNote:"Сотрудник был создан"}},computed:Object(r["a"])({},Object(i["c"])(["authEmployee"])),methods:{createEmployee:function(){var e={id:Date.now(),email:this.email,password:this.password,name:"Сотрудник",surname:"Новый",patronymic:"",sex:"Мужской",homePhone:"",mobilePhone:"",city:"",duty:"Сотрудник",access:"employee",settings:{autoUpdate:5e3},history:[{date:"[Дата: ".concat((new Date).toLocaleDateString()," Время: ").concat((new Date).toLocaleTimeString(),"]"),info:"Сотрудник создан "}]};this.$emit("addEmployee",e),this.email=""}}},x=w,S=Object(v["a"])(x,E,A,!1,null,null,null),O=S.exports,I=n("34b0"),P={name:"Employees",components:{EmployeesTable:y,AppTopPanel:I["a"],AppButtonIcon:f["a"],EmployeePopupAdd:O},computed:Object(r["a"])({},Object(i["c"])(["employees"])),data:function(){return{popupAddHidden:!0}},created:function(){this.SET_EMPLOYEES_FROM_LOCAL_STORAGE()},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(i["d"])(["SET_EMPLOYEES_FROM_LOCAL_STORAGE","SET_EMPLOYEES_FROM_SERVER"])),Object(i["b"])(["registerEmployees"])),{},{popupAddToggle:function(){this.popupAddHidden=!this.popupAddHidden},removeEmployee:function(e){var t=this;c["a"].database().ref("/employees/"+e).remove().then((function(){t.SET_EMPLOYEES_FROM_SERVER(),console.log("Сотрудник удалён 🗑️")}))},addEmployee:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.popupAddToggle(),o={email:e.email,password:e.password,id:Date.now},n.next=4,t.registerEmployees(o);case 4:e.id=n.sent,c["a"].database().ref("/employees/"+e.id).set(e).then((function(){t.SET_EMPLOYEES_FROM_SERVER(),console.log("Сотрудник добавлен ➕")}));case 6:case"end":return n.stop()}}),n)})))()}})},R=P,k=Object(v["a"])(R,o,a,!1,null,null,null);t["default"]=k.exports},bdaf:function(e,t,n){"use strict";n("633e")},dda0:function(e,t,n){},e420:function(e,t,n){},eda4:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-table"},[n("table",[e._t("table-content")],2)])},a=[],p={name:"AppTable"},r=p,i=(n("619a"),n("2877")),c=Object(i["a"])(r,o,a,!1,null,"73c47ab8",null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-7ec19c7e.9f040f37.js.map