(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aff2b6b8"],{"07ac":function(t,e,s){var a=s("23e7"),n=s("6f53").values;a({target:"Object",stat:!0},{values:function(t){return n(t)}})},"1c6a":function(t,e,s){},"2a1f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app-edit"}},[s("AppEditWrapper",{attrs:{id:"app-edit-wrapper",header:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°: "+t.editedCustomer.name},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[s("CustomerNavigation",{attrs:{customer:t.editedCustomer},on:{"save-customer":function(e){return t.saveEditedCustomer(t.editedCustomer)}}})]},proxy:!0},{key:"edit-section",fn:function(){return[s("div",{staticClass:"edit-block"},[s("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"import_contacts","header-text":"ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ"}}),s("div",{staticClass:"edit-block-content"},[s("AppLineText",{attrs:{inputID:"input-city",label:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°: ",maxLength:"20"},model:{value:t.editedCustomer.name,callback:function(e){t.$set(t.editedCustomer,"name",e)},expression:"editedCustomer.name"}})],1)],1),s("div",{staticClass:"edit-block"},[s("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"chrome_reader_mode","header-text":"Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸"}}),s("div",{staticClass:"edit-block-content"},[s("AppNumbers",{attrs:{inputID:"input-note-count",label:"Ð—Ð°Ð¼ÐµÑ‚Ð¾Ðº Ð² ÑÐ¿Ð¸ÑÐºÐµ:  ",minValue:"0",maxValue:"35",maxLength:"3"},model:{value:t.editedCustomer.notesCount,callback:function(e){t.$set(t.editedCustomer,"notesCount",e)},expression:"editedCustomer.notesCount"}}),s("AppLineText",{attrs:{placeholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð²ÑƒÑŽ Ð·Ð°Ð¼ÐµÑ‚ÐºÑƒ",inputID:"input-note",label:"ÐÐ¾Ð²Ð°Ñ Ð—Ð°Ð¼ÐµÑ‚ÐºÐ°: ",maxLength:"35"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),s("AppNotesList",{attrs:{"notes-list":t.editedCustomer.notes,"notes-count":t.editedCustomer.notesCount}})],1)],1),s("div",{staticClass:"edit-block",attrs:{id:"subdivisions"}},[s("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"domain","header-text":"ÐŸÐ¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ñ"}}),s("CustomerSubdivisionsTable",{attrs:{customers:t.customerSubdivisions,customerId:t.customerId},on:{"remove-customer":t.removeCustomer}}),s("SubdivisionAdd",{attrs:{placeholder:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ð¾Ðµ Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ"},on:{"add-element":t.addCustomer}})],1)]},proxy:!0}])})],1)},n=[],i=s("5530"),r=(s("99af"),s("b0c0"),s("c3ec")),o=s("2f62"),u=s("260b"),c=s("2721"),m=s("8ef0"),l=s("49a1"),d=s("1b06"),p=s("c0a7"),v=s("38a1"),h=s("8e20"),f={name:"EditorWorkers",components:{CustomerSubdivisionsTable:r["a"],SubdivisionAdd:h["a"],AppEditWrapper:c["a"],CustomerNavigation:m["a"],AppNumbers:l["a"],AppLineText:d["a"],AppNotesList:p["a"],AppHeaderIcon:v["a"]},data:function(){return{editedCustomer:"",note:""}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["customers","authEmployee"])),{},{customerId:function(){return String(this.$route.params.id)},currentCustomer:function(){return this.customers[this.customerId]},customerSubdivisions:function(){return this.currentCustomer.subdivisions}}),created:function(){this.SET_CUSTOMERS_FROM_LOCAL_STORAGE(),this.SET_EMPLOYEES_FROM_LOCAL_STORAGE(),this.editedCustomer=this.customers[this.$route.params.id]},methods:Object(i["a"])(Object(i["a"])({},Object(o["d"])(["SET_CUSTOMERS_FROM_SERVER","SET_CUSTOMERS_FROM_LOCAL_STORAGE","SET_EMPLOYEES_FROM_LOCAL_STORAGE"])),{},{editorExit:function(){this.$router.push("/customers")},saveEditedCustomer:function(t){var e=this;if(this.note.length)try{this.editedCustomer.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}catch(s){this.editedCustomer.notes=[],this.editedCustomer.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}u["a"].database().ref("customers/"+t.id).set(t).then((function(){e.SET_CUSTOMERS_FROM_SERVER(),e.editorExit()}))},removeCustomer:function(t){var e=this;0==t?M.toast({html:"Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð½ÐµÐ»ÑŒÐ·Ñ ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ!"}):u["a"].database().ref("/customers/"+this.customerId+"/subdivisions/"+t).remove().then((function(){e.SET_CUSTOMERS_FROM_SERVER(),console.log("ÐŸÐ¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ ÑƒÐ´Ð°Ð»Ñ‘Ð½Ð¾ ðŸ—‘ï¸")}))},addCustomer:function(t){var e=this,s={id:Date.now(),name:t,contractNumber:"",contractDate:"",number:"",fax:"",site:"",email:"",address:"",notes:["ÐÐ¾Ð²Ð¾Ðµ Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ"],manager:this.authEmployee.surname+" "+this.authEmployee.name,status:"Ð”ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹"};u["a"].database().ref("/customers/"+this.customerId+"/subdivisions/"+s.id).set(s).then((function(){e.SET_CUSTOMERS_FROM_SERVER(),console.log("ÐŸÐ¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ âž•")}))},updateCustomers:function(){this.SET_CUSTOMERS_FROM_SERVER(),M.toast({html:"ÐÐ°ÑˆÐ¸ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñ‹ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹"})}})},b=f,_=(s("cc56"),s("2877")),C=Object(_["a"])(b,a,n,!1,null,null,null);e["default"]=C.exports},"3f26":function(t,e,s){"use strict";s("fc88")},"49a1":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"container-app-numbers"}},[s("input",{staticClass:"app-numbers",attrs:{type:"number",id:t.inputID,placeholder:t.placeholder,min:t.minValue,max:t.maxValue,maxlength:t.maxLength},domProps:{value:t.value},on:{input:function(e){return t.numbersValueSubmit(e.target.value)}}}),s("label",{staticClass:"app-numbers-label",attrs:{for:t.inputID}},[t._v(t._s(t.label))])])},n=[],i=(s("a9e3"),{name:"AppNumbers",props:{inputID:String,placeholder:String,label:String,value:String,minValue:String,maxValue:String,maxLength:String},methods:{numbersValueSubmit:function(t){var e=String(t);Number(t)>Number(this.$props.maxValue)&&(e=this.$props.maxValue,this.$forceUpdate()),Number(this.$props.minValue)>Number(t)&&(e=this.$props.minValue,this.$forceUpdate()),""===t&&(e="0"),this.$emit("input",e)}}}),r=i,o=(s("4fda"),s("2877")),u=Object(o["a"])(r,a,n,!1,null,"a1d1ccbc",null);e["a"]=u.exports},"4fda":function(t,e,s){"use strict";s("1c6a")},5614:function(t,e,s){"use strict";e["a"]={data:function(){return{popupShow:!1}},methods:{popupVisibility:function(){this.popupShow=!0},popupHidden:function(){this.popupShow=!1}}}},"6f53":function(t,e,s){var a=s("83ab"),n=s("df75"),i=s("fc6a"),r=s("d1e7").f,o=function(t){return function(e){var s,o=i(e),u=n(o),c=u.length,m=0,l=[];while(c>m)s=u[m++],a&&!r.call(o,s)||l.push(t?[s,o[s]]:o[s]);return l}};t.exports={entries:o(!0),values:o(!1)}},"8e20":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"flex-center",on:{submit:function(e){return e.preventDefault(),t.submitElement.apply(null,arguments)}}},[s("div",{staticClass:"input-field margin-fix right-margin-little"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-add",attrs:{type:"text",maxlength:"50",placeholder:t.placeholder},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._m(0)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn-transparent transparent btn-page-title blue-text text-darken-1",attrs:{type:"submit"}},[s("i",{staticClass:"material-icons big-material-icons"},[t._v("add")])])}],i=(s("b0c0"),{name:"InputAdd",props:{placeholder:String},data:function(){return{name:""}},methods:{submitElement:function(){console.log(this.name),this.$emit("add-element",this.name),this.name=""}}}),r=i,o=s("2877"),u=Object(o["a"])(r,a,n,!1,null,null,null);e["a"]=u.exports},"8e2f":function(t,e,s){},"8ef0":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customer-navigation"},[s("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerStatistics"===t.$route.name,expression:"$route.name === 'customerStatistics'"}],attrs:{icon:"av_timer",size:"1.8rem",title:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€Ð¸Ð¾Ð´"},on:{"button-click":function(e){return t.$emit("show-period-popup")}}}),s("div",{staticClass:"save",on:{click:function(e){return t.$emit("save-customer")}}},[s("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerEdit"===t.$route.name,expression:"$route.name === 'customerEdit'"}],attrs:{title:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸ Ð²Ñ‹Ð¹Ñ‚Ð¸"}}),s("span",{staticClass:"save-span"},[t._v("Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ")])],1),s("AppButtonIcon",{attrs:{size:"0.5rem"}}),s("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerStatistics"!==t.$route.name,expression:"$route.name !== 'customerStatistics'"}],attrs:{icon:"timeline",size:"1.8rem",title:"Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°"},on:{"button-click":function(e){return t.$router.push({name:"customerStatistics",params:{id:t.customer.id}})}}}),s("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerAbout"!==t.$route.name,expression:"$route.name !== 'customerAbout'"}],attrs:{icon:"remove_red_eye",size:"1.8rem",title:"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ"},on:{"button-click":function(e){return t.$router.push({name:"customerAbout",params:{id:t.customer.id}})}}}),s("AppButtonIcon",{directives:[{name:"show",rawName:"v-show",value:"customerEdit"!==t.$route.name,expression:"$route.name !== 'customerEdit'"}],attrs:{icon:"create",size:"1.8rem",title:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"},on:{"button-click":function(e){return t.$router.push({name:"customerEdit",params:{id:t.customer.id}})}}}),s("AppButtonIcon",{attrs:{icon:"business_center",size:"1.8rem",title:"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ðº ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°Ð¼"},on:{"button-click":function(e){return t.$router.push("/customers")}}})],1)},n=[],i=s("373c"),r={name:"CustomerNavigation",components:{AppButtonIcon:i["a"]},props:{customer:Object}},o=r,u=(s("3f26"),s("2877")),c=Object(u["a"])(o,a,n,!1,null,null,null);e["a"]=c.exports},b0c0:function(t,e,s){var a=s("83ab"),n=s("9bf2").f,i=Function.prototype,r=i.toString,o=/^\s*function ([^ (]*)/,u="name";a&&!(u in i)&&n(i,u,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},c3ec:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.popupShow?s("Popup",{attrs:{"popup-toast":"ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð±Ñ‹Ð» ÑƒÐ´Ð°Ð»Ñ‘Ð½!"},on:{yes:function(e){return t.removeCustomer(t.customer)},no:function(e){return t.popupHidden()}},scopedSlots:t._u([{key:"title-popup",fn:function(){return[t._v(" Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ? ")]},proxy:!0},{key:"text-info-popup",fn:function(){return[t._v(" ÐšÐ»Ð¸ÐµÐ½Ñ‚ "),s("b",[t._v(t._s(t.customer.name))]),t._v(" Ð±ÑƒÐ´ÐµÑ‚ ÑƒÐ´Ð°Ð»Ñ‘Ð½ ")]},proxy:!0}],null,!1,12950149)}):t._e(),s("table",[t._m(0),t._l(t.customers,(function(e){return s("tr",{key:e.value,class:"Ð”ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹"===e.status?"":"opacity-5"},[s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.name}},[t._v(t._s(e.name))])])]),s("td",[s("a",{attrs:{href:"tel:"+e.number,title:"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ"}},[t._v(t._s(e.number))])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("a",{staticClass:"clip-text",attrs:{title:e.site,target:"_blank",href:e.site}},[t._v(t._s(e.site))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("a",{staticClass:"clip-text",attrs:{href:"mailto:"+e.email,title:"ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð½Ð° Ð¿Ð¾Ñ‡Ñ‚Ñƒ: "+e.email}},[t._v(t._s(e.email))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.address}},[t._v(t._s(e.address))])])]),s("td",[s("div",{staticClass:"parent-clip-text"},[s("p",{staticClass:"clip-text",attrs:{title:e.manager}},[t._v(t._s(e.manager))])])]),s("td",["Ð”ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹"===e.status?s("div",{staticClass:"circle green darken-1",attrs:{title:"Ð”ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹"}}):s("div",{staticClass:"circle red darken-1",attrs:{title:"Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ñ€ÐµÑ€Ð²Ð°Ð½Ð¾"}})]),s("td",[s("div",{staticClass:"flex-center btns-collection"},[s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¸",to:{name:"subdivisionEmployees",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("group")])]),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ",to:{name:"customerAboutSubdivision",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",to:{name:"customerEditSubdivision",params:{id:t.customerId,subId:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("create")])]),e.edited?t._e():s("button",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"},on:{click:function(s){t.popupVisibility(e),t.setCustomer(e),t.removeCustomer(e)}}},[s("i",{staticClass:"material-icons"},[t._v("delete")])])],1)])])}))],2)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ")]),s("th",[t._v("Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½")]),s("th",[t._v("Ð¡Ð°Ð¹Ñ‚")]),s("th",[t._v("ÐŸÐ¾Ñ‡Ñ‚Ð°")]),s("th",[t._v("ÐÐ´Ñ€ÐµÑ")]),s("th",[t._v("ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€")]),s("th",[t._v("Ð¡Ñ‚Ð°Ñ‚ÑƒÑ")])])}],i=(s("d81d"),s("07ac"),s("b0c0"),s("5614")),r={name:"CustomerSubdivisionsTable",mixins:[i["a"]],props:{customers:Object,customerId:String},data:function(){return{customer:""}},computed:{customerArray:function(){return Object.values(this.customers).map((function(t){var e=t.name,s=t.number,a=t.site,n=t.email,i=t.address,r=t.manager;return{name:e,number:s,site:a,email:n,address:i,manager:r}}))}},methods:{setCustomer:function(t){this.customer=t},removeCustomer:function(t){this.$emit("remove-customer",t.id),this.popupHidden()}}},o=r,u=s("2877"),c=Object(u["a"])(o,a,n,!1,null,"1ac656aa",null);e["a"]=c.exports},cc56:function(t,e,s){"use strict";s("8e2f")},d81d:function(t,e,s){"use strict";var a=s("23e7"),n=s("b727").map,i=s("1dde"),r=s("ae40"),o=i("map"),u=r("map");a({target:"Array",proto:!0,forced:!o||!u},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},fc88:function(t,e,s){}}]);
//# sourceMappingURL=chunk-aff2b6b8.1ef2de92.js.map